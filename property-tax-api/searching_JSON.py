import json
import timeit
from typing import List

sections = json.loads(
    """[{"name": "B Ang_Grundstuecksart398449", "path": "GW2/Ang_Grundstuecksart", "fields": {"E7401322": null}}, {"name": "B Ang_Befreiung610856", "path": "GW2/Ang_Befreiung", "sections": [{"name": "B Gesamt398263", "path": "GW2/Ang_Befreiung/Gesamt", "fields": {"E7401362": null}}, {"name": "B Nicht_abgrenzbar398265", "path": "GW2/Ang_Befreiung/Nicht_abgrenzbar", "fields": {"E7441101": null}}]}, {"name": "B Ang_Verguenstigung980062", "path": "GW2/Ang_Verguenstigung", "sections": [{"name": "B Gesamt980063", "path": "GW2/Ang_Verguenstigung/Gesamt", "fields": {"E7441201": null, "E7421365": null}}]}, {"name": "B Ang_Grund398450", "path": "GW2/Ang_Grund", "sections": [{"name": "B Ang_Flaeche946633", "path": "GW2/Ang_Grund/Ang_Flaeche", "fields": {"E7403010": null, "E7403011": null}}, {"name": "B Entw_Zust508524", "path": "GW2/Ang_Grund/Entw_Zust", "fields": {"E7403051": null}}]}, {"name": "B Ang_Wohn398451", "path": "GW2/Ang_Wohn", "fields": {"E7403113": null, "E7403114": null, "E7403115": null, "E7403116": null}, "sections": [{"name": "B Garagen979978", "path": "GW2/Ang_Wohn/Garagen", "fields": {"E7403171": null}, "sections": [{"name": "B Befreiung979979", "path": "GW2/Ang_Wohn/Garagen/Befreiung", "fields": {"E7421001": null, "E7421002": null, "E7421003": null}}, {"name": "B Verguenstigung979980", "path": "GW2/Ang_Wohn/Garagen/Verguenstigung", "fields": {"E7421004": null, "E7421005": null, "E7421006": null}}]}, {"name": "B Ang_Durchschn402472", "path": "GW2/Ang_Wohn/Ang_Durchschn", "sections": [{"name": "B Wohn_unter60979964", "path": "GW2/Ang_Wohn/Ang_Durchschn/Wohn_unter60", "fields": {"E7403131": null, "E7403132": null}, "sections": [{"name": "B Befreiung611800", "path": "GW2/Ang_Wohn/Ang_Durchschn/Wohn_unter60/Befreiung", "fields": {"E7421101": null, "E7421102": null, "E7421103": null}}, {"name": "B Verguenstigung979966", "path": "GW2/Ang_Wohn/Ang_Durchschn/Wohn_unter60/Verguenstigung", "fields": {"E7421104": null, "E7421105": null, "E7421106": null}}]}, {"name": "B Wohn_60bis100979967", "path": "GW2/Ang_Wohn/Ang_Durchschn/Wohn_60bis100", "fields": {"E7403141": null, "E7403142": null}, "sections": [{"name": "B Befreiung611804", "path": "GW2/Ang_Wohn/Ang_Durchschn/Wohn_60bis100/Befreiung", "fields": {"E7421201": null, "E7421202": null, "E7421203": null}}, {"name": "B Verguenstigung979968", "path": "GW2/Ang_Wohn/Ang_Durchschn/Wohn_60bis100/Verguenstigung", "fields": {"E7421204": null, "E7421205": null, "E7421206": null}}]}, {"name": "B Wohn_ab100979970", "path": "GW2/Ang_Wohn/Ang_Durchschn/Wohn_ab100", "fields": {"E7403151": null, "E7403152": null}, "sections": [{"name": "B Befreiung979971", "path": "GW2/Ang_Wohn/Ang_Durchschn/Wohn_ab100/Befreiung", "fields": {"E7421301": null, "E7421302": null, "E7421303": null}}, {"name": "B Verguenstigung979972", "path": "GW2/Ang_Wohn/Ang_Durchschn/Wohn_ab100/Verguenstigung", "fields": {"E7421304": null, "E7421305": null, "E7421306": null}}]}, {"name": "B Weitere_Wohn979973", "path": "GW2/Ang_Wohn/Ang_Durchschn/Weitere_Wohn", "fields": {"E7403121": null, "E7403122": null}, "sections": [{"name": "B Befreiung979974", "path": "GW2/Ang_Wohn/Ang_Durchschn/Weitere_Wohn/Befreiung", "fields": {"E7421401": null, "E7421402": null, "E7421403": null}}, {"name": "B Verguenstigung979975", "path": "GW2/Ang_Wohn/Ang_Durchschn/Weitere_Wohn/Verguenstigung", "fields": {"E7421404": null, "E7421405": null, "E7421406": null}}]}]}, {"name": "B Weitere_Nutzflaechen402490", "path": "GW2/Ang_Wohn/Weitere_Nutzflaechen", "sections": [{"name": "B Weitere_Nutzfl979976", "path": "GW2/Ang_Wohn/Weitere_Nutzflaechen/Weitere_Nutzfl", "sections": [{"name": "B Einz508896", "path": "GW2/Ang_Wohn/Weitere_Nutzflaechen/Weitere_Nutzfl/Einz", "fields": {"E7421502": null, "E7421503": null, "E7421504": null}, "sections": [{"name": "B Befreiung979981", "path": "GW2/Ang_Wohn/Weitere_Nutzflaechen/Weitere_Nutzfl/Einz/Befreiung", "fields": {"E7421505": null, "E7421506": null}}, {"name": "B Verguenstigung979982", "path": "GW2/Ang_Wohn/Weitere_Nutzflaechen/Weitere_Nutzfl/Einz/Verguenstigung", "fields": {"E7421507": null, "E7421508": null}}]}]}, {"name": "B Sum508898", "path": "GW2/Ang_Wohn/Weitere_Nutzflaechen/Sum", "fields": {"E7423162": null}}]}]}, {"name": "B AngabenNichtwohn766617", "path": "GW2/AngabenNichtwohn", "fields": {"E7403210": null, "E7403212": null, "E7403220": null, "E7403221": null, "E7403222": null, "E7403230": null, "E7403241": null}, "sections": [{"name": "B Befreiung979984", "path": "GW2/AngabenNichtwohn/Befreiung", "fields": {"E7422201": null, "E7422202": null}}, {"name": "B Verguenstigung979983", "path": "GW2/AngabenNichtwohn/Verguenstigung", "fields": {"E7422203": null, "E7422204": null}}]}, {"name": "B Zus_Angaben398453", "path": "GW2/Zus_Angaben", "fields": {"E7423601": null}}, {"name": "B Erbbaurecht766619", "path": "GW2/Erbbaurecht", "fields": {"E7401323": null, "E7401324": null}, "sections": [{"name": "B Anschr_Erbauverpflicht398455", "path": "GW2/Erbbaurecht/Anschr_Erbauverpflicht", "fields": {"E7423901": null, "E7424001": null, "E7424101": null, "E7424201": null, "E7424202": null, "E7424203": null, "E7424301": null, "E7424302": null, "E7424303": null, "E7434401": null, "E7434402": null}}]}]""")


def stupid_traversing(sections: List):
    c = 1
    for s1 in sections:
        if s1['path'] == 'GW2/Ang_Grund':
            for s2 in s1['sections']:
                if s2['path'] == 'GW2/Ang_Grund/Aufstellung':
                    for s3 in s2['sections']:
                        if s3['path'] == 'GW2/Ang_Grund/Aufstellung/Ang_GemarkungFlur':
                            for s4 in s3['sections']:
                                if s4['path'] == 'GW2/Ang_Grund/Aufstellung/Ang_GemarkungFlur/GemarkungFlur':
                                    s4['fields']['FlurstueckNr'] = f"{c}"


if __name__ == '__main__':
    print(timeit.timeit('stupid_traversing(sections)', number=500000, globals=globals()))
